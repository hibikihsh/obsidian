---
category:
  - lifull-kaigo
---
# homes-kaigo å®Œå…¨ç‰ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä»•æ§˜æ›¸

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [åˆå­¦è€…å‘ã‘ã‚¬ã‚¤ãƒ‰](#åˆå­¦è€…å‘ã‘ã‚¬ã‚¤ãƒ‰)
3. [ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ](#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
4. [é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼](#é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼)
5. [ã‚ˆãã‚ã‚‹è³ªå•](#ã‚ˆãã‚ã‚‹è³ªå•)
6. [å‚è€ƒè³‡æ–™](#å‚è€ƒè³‡æ–™)

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**LIFULLä»‹è­·** - ä»‹è­·æ–½è¨­æ¤œç´¢ã‚µãƒ¼ãƒ“ã‚¹ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| åˆ†é¡ | æŠ€è¡“ |
|-----|------|
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ | PHP 7.2 + Symfony 3.4 |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | PostgreSQL |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | TypeScript + SCSS + Vue.js |
| ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | Webpack |
| é–‹ç™ºç’°å¢ƒ | Docker |
| æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ | Elasticsearch |

---

## åˆå­¦è€…å‘ã‘ã‚¬ã‚¤ãƒ‰

### ğŸ¯ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ä½“åƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆç”»é¢ï¼‰                 â”‚
â”‚  - PCç‰ˆã‚µã‚¤ãƒˆ                            â”‚
â”‚  - ã‚¹ãƒãƒ›ç‰ˆã‚µã‚¤ãƒˆ                         â”‚
â”‚  - ç®¡ç†ç”»é¢                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆå‡¦ç†ï¼‰                   â”‚
â”‚  - PHP (Symfony)                        â”‚
â”‚  - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯                       â”‚
â”‚  - API                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ãƒ‡ãƒ¼ã‚¿å±¤                              â”‚
â”‚  - PostgreSQLï¼ˆæ–½è¨­æƒ…å ±ï¼‰                â”‚
â”‚  - Elasticsearchï¼ˆæ¤œç´¢ï¼‰                 â”‚
â”‚  - Redisï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åˆ†é¡

#### ğŸ”§ ã€Œè§¦ã‚‹ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆé–‹ç™ºã§ç·¨é›†ã™ã‚‹ï¼‰

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ç”¨é€” | é »åº¦ |
|------------|------|------|
| `src/` | PHPã‚³ãƒ¼ãƒ‰ | â­â­â­ |
| `assets_webpack/` | CSS/JSã‚½ãƒ¼ã‚¹ | â­â­â­ |
| `apps/` | è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« | â­â­ |
| `docs/postgresql/migrations/` | DBå¤‰æ›´SQL | â­â­ |

#### ğŸ‘€ ã€Œè¦‹ã‚‹ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆå‚ç…§ã®ã¿ï¼‰

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ç”¨é€” |
|------------|------|
| `htdocs/` | å…¬é–‹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒãªã©ï¼‰ |
| `docs/` | è¨­è¨ˆæ›¸ãƒ»SQL |
| `assets/` | ãƒ“ãƒ«ãƒ‰æ¸ˆã¿CSS/JS |

#### ğŸš« ã€Œè§¦ã‚‰ãªã„ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰

| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ç”Ÿæˆæ–¹æ³• |
|------------|---------|
| `vendor/` | `composer install` |
| `node_modules/` | `yarn install` |
| `var/cache/` | ã‚¢ãƒ—ãƒªè‡ªå‹•ç”Ÿæˆ |

### ğŸ¨ ã‚ˆãã‚ã‚‹ä½œæ¥­ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

| ã‚„ã‚ŠãŸã„ã“ã¨ | è§¦ã‚‹ãƒ•ã‚¡ã‚¤ãƒ« | ã‚³ãƒãƒ³ãƒ‰ |
|------------|------------|---------|
| æ–°æ©Ÿèƒ½è¿½åŠ  | `src/*/Controller/` | - |
| ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ›´ | `assets_webpack/styles/` | `yarn build` |
| JSè¿½åŠ  | `assets_webpack/scripts/` | `yarn build` |
| DBå¤‰æ›´ | `docs/postgresql/migrations/` | SQLã‚’å®Ÿè¡Œ |
| è¨­å®šå¤‰æ›´ | `apps/*/config/` | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ |

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

### ğŸ“‚ ãƒ«ãƒ¼ãƒˆæ§‹é€ 

```
homes-kaigo/
â”œâ”€â”€ apps/                    # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”œâ”€â”€ assets/                  # ãƒ“ãƒ«ãƒ‰æ¸ˆã¿CSS/JS
â”œâ”€â”€ assets_webpack/          # CSS/JSã‚½ãƒ¼ã‚¹
â”œâ”€â”€ bin/                     # å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ docker/                  # Dockerè¨­å®š
â”œâ”€â”€ docs/                    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ htdocs/                  # å…¬é–‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”œâ”€â”€ src/                     # PHPã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ â­
â”œâ”€â”€ tests/                   # ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ var/                     # ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒ­ã‚°
â”œâ”€â”€ vendor/                  # PHPä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”œâ”€â”€ webpack/                 # Webpackè¨­å®š
â”œâ”€â”€ .env                     # ç’°å¢ƒå¤‰æ•°ï¼ˆå€‹äººè¨­å®šï¼‰
â”œâ”€â”€ composer.json            # PHPä¾å­˜å®šç¾©
â”œâ”€â”€ package.json             # Node.jsä¾å­˜å®šç¾©
â””â”€â”€ README.md                # ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
```

---

### 1ï¸âƒ£ apps/ - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š

**å½¹å‰²**: å„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•è¨­å®šã¨ç’°å¢ƒåˆ¥è¨­å®š

```
apps/
â”œâ”€â”€ _kaigo_common/          # å…¨ã‚¢ãƒ—ãƒªå…±é€šè¨­å®š
â”œâ”€â”€ kaigo_admin/            # ç®¡ç†ç”»é¢
â”œâ”€â”€ kaigo_api/              # API
â”œâ”€â”€ kaigo_console/          # ãƒãƒƒãƒå‡¦ç†
â”œâ”€â”€ kaigo_pc_front/         # PCç‰ˆã‚µã‚¤ãƒˆ â­
â”œâ”€â”€ kaigo_sp_front/         # ã‚¹ãƒãƒ›ç‰ˆã‚µã‚¤ãƒˆ â­
â””â”€â”€ kaigo_manager/          # æ–½è¨­ç®¡ç†ç”»é¢
```

**å„ã‚¢ãƒ—ãƒªã®æ§‹æˆ**:
```
kaigo_pc_front/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ config_dev.yml      # é–‹ç™ºç’°å¢ƒè¨­å®š
â”‚   â”œâ”€â”€ config_live.yml     # æœ¬ç•ªç’°å¢ƒè¨­å®š
â”‚   â””â”€â”€ routing.yml         # URLè¨­å®š
â”œâ”€â”€ AppKernel.php           # ã‚¢ãƒ—ãƒªèµ·å‹•
â””â”€â”€ console                 # ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
```

**åˆå­¦è€…å‘ã‘èª¬æ˜**:
- 7ã¤ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒç‹¬ç«‹ã—ã¦å‹•ä½œ
- ç’°å¢ƒã”ã¨ã«ç•°ãªã‚‹è¨­å®šã‚’æŒã¤ï¼ˆdev/test/pool/backstage/liveï¼‰
- `routing.yml`ã§URLã¨Controllerã‚’ç´ä»˜ã‘

---

### 2ï¸âƒ£ src/ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆæœ€é‡è¦ï¼‰

**å½¹å‰²**: PHPã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯

```
src/
â”œâ”€â”€ Kaigo/                  # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”œâ”€â”€ PcFrontBundle/      # PCç‰ˆç”»é¢
â”‚   â”œâ”€â”€ SpFrontBundle/      # ã‚¹ãƒãƒ›ç‰ˆç”»é¢
â”‚   â”œâ”€â”€ PcAdminBundle/      # ç®¡ç†ç”»é¢
â”‚   â”œâ”€â”€ ApiBundle/          # API
â”‚   â””â”€â”€ ConsoleBundle/      # ãƒãƒƒãƒ
â”œâ”€â”€ LifullKaigo/            # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ï¼ˆæ©Ÿèƒ½ï¼‰
â”‚   â”œâ”€â”€ FacilityReviewBundle/      # æ–½è¨­ãƒ¬ãƒ“ãƒ¥ãƒ¼
â”‚   â”œâ”€â”€ TourReservationBundle/     # è¦‹å­¦äºˆç´„
â”‚   â”œâ”€â”€ ConsultationBundle/        # ç›¸è«‡
â”‚   â””â”€â”€ [30å€‹ä»¥ä¸Šã®Bundle]
â””â”€â”€ Lifull/                 # åŸºç›¤å±¤
    â””â”€â”€ FrameworkBundle/    # å…±é€šæ©Ÿèƒ½
```

**ãƒãƒ³ãƒ‰ãƒ«ã®æ¨™æº–æ§‹é€ **:
```
FacilityReviewBundle/
â”œâ”€â”€ Controller/             # ãƒªã‚¯ã‚¨ã‚¹ãƒˆå‡¦ç†
â”œâ”€â”€ Entity/                 # DBãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©
â”œâ”€â”€ Repository/             # DBå•ã„åˆã‚ã›
â”œâ”€â”€ Services/               # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ Form/                   # ãƒ•ã‚©ãƒ¼ãƒ å®šç¾©
â”œâ”€â”€ Resources/
â”‚   â”œâ”€â”€ config/             # è¨­å®š
â”‚   â””â”€â”€ views/              # Twigãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â””â”€â”€ Tests/                  # ãƒ†ã‚¹ãƒˆ
```

**å®Ÿä¾‹: DetailFacilityController.php**
```php
// src/Kaigo/FrontBundle/Controller/DetailFacilityController.php
class DetailFacilityController extends Controller
{
    // æ–½è¨­è©³ç´°ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
    public function indexAction(Request $request, $id)
    {
        $facility = $this->getFacilityOr404($id);
        return $this->renderPage('DetailFacility:index.html.twig', $facility);
    }
}
```

**åˆå­¦è€…å‘ã‘èª¬æ˜**:
- **Controller**: URLã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™
- **Entity**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’PHPã‚¯ãƒ©ã‚¹ã§è¡¨ç¾
- **Repository**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®å•ã„åˆã‚ã›ãƒ­ã‚¸ãƒƒã‚¯
- **Service**: è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯

---

### 3ï¸âƒ£ assets_webpack/ - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚½ãƒ¼ã‚¹

**å½¹å‰²**: ãƒ“ãƒ«ãƒ‰å‰ã®TypeScript/SCSS

```
assets_webpack/
â”œâ”€â”€ scripts/                # TypeScript/JavaScript
â”‚   â”œâ”€â”€ _libs/              # å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ _vendor/            # å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ admin/              # ç®¡ç†ç”»é¢ç”¨
â”‚   â”œâ”€â”€ pc/                 # PCç‰ˆç”¨
â”‚   â””â”€â”€ sp/                 # ã‚¹ãƒãƒ›ç‰ˆç”¨
â”œâ”€â”€ styles/                 # SCSS
â”‚   â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ pc/
â”‚   â””â”€â”€ sp/
â””â”€â”€ images/                 # ç”»åƒã‚½ãƒ¼ã‚¹
```

**ãƒ“ãƒ«ãƒ‰ã®æµã‚Œ**:
```
assets_webpack/scripts/pc/facility.ts
         â†“ yarn build
assets/kaigo/js/pc/facility.js
         â†“ ãƒ–ãƒ©ã‚¦ã‚¶ã§èª­ã¿è¾¼ã¿
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç”»é¢ã§å‹•ä½œ
```

---

### 4ï¸âƒ£ htdocs/ - å…¬é–‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

**å½¹å‰²**: Webã‚µãƒ¼ãƒãƒ¼ãŒç›´æ¥å…¬é–‹ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«

```
htdocs/
â”œâ”€â”€ kaigo_pc/
â”‚   â”œâ”€â”€ app.php             # æœ¬ç•ªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ app_dev.php         # é–‹ç™ºã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ img/                # ç”»åƒ
â”‚   â”œâ”€â”€ pdf/                # PDF
â”‚   â””â”€â”€ static/             # ãƒ“ãƒ«ãƒ‰æ¸ˆã¿CSS/JS
â”œâ”€â”€ kaigo_sp/
â””â”€â”€ kaigo_admin/
```

**ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã®é•ã„**:
- `app.php`: æœ¬ç•ªç”¨ï¼ˆé«˜é€Ÿã€ã‚¨ãƒ©ãƒ¼éè¡¨ç¤ºï¼‰
- `app_dev.php`: é–‹ç™ºç”¨ï¼ˆãƒ‡ãƒãƒƒã‚°æƒ…å ±è¡¨ç¤ºï¼‰

---

### 5ï¸âƒ£ docker/ - Dockerè¨­å®š

```
docker/
â”œâ”€â”€ php/
â”‚   â””â”€â”€ dev.dockerfile      # PHP 7.2ç’°å¢ƒ
â”œâ”€â”€ node-js/
â”‚   â””â”€â”€ dev.dockerfile      # Node.jsç’°å¢ƒ
â””â”€â”€ settings/
    â””â”€â”€ certs/              # è¨¼æ˜æ›¸
```

**ä½¿ã„æ–¹**:
```bash
# èµ·å‹•
docker compose -f docker-compose.dev.yml up

# PHPã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹
docker exec -it homes-kaigo-php bash

# Node.jsã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹
docker exec -it homes-kaigo-node-js bash
```

---

### 6ï¸âƒ£ docs/ - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

```
docs/
â”œâ”€â”€ postgresql/
â”‚   â”œâ”€â”€ initial/            # åˆæœŸæ§‹ç¯‰SQL
â”‚   â”œâ”€â”€ migrations/         # ãƒ†ãƒ¼ãƒ–ãƒ«å¤‰æ›´SQL
â”‚   â”‚   â”œâ”€â”€ facility/
â”‚   â”‚   â”œâ”€â”€ consultation/
â”‚   â”‚   â””â”€â”€ article/
â”‚   â””â”€â”€ update/
â”œâ”€â”€ elasticsearch/          # æ¤œç´¢è¨­å®š
â””â”€â”€ salesforce/             # ãƒ¡ãƒ¼ãƒ«è¨­å®š
```

---

## é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ğŸš€ ç’°å¢ƒæ§‹ç¯‰ï¼ˆåˆå›ã®ã¿ï¼‰

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone git@github.com:lifull-senior/homes-kaigo.git
cd homes-kaigo

# 2. ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
# .envã‚’ç·¨é›†ã—ã¦DBæ¥ç¶šæƒ…å ±ãªã©ã‚’è¨­å®š

# 3. Dockerèµ·å‹•
docker compose -f docker-compose.dev.yml up -d

# 4. PHPä¾å­˜ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
docker exec -it homes-kaigo-php bash
composer install --optimize-autoloader

# 5. Node.jsä¾å­˜ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
docker exec -it homes-kaigo-node-js bash
yarn install

# 6. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ“ãƒ«ãƒ‰
yarn build
```

---

### ğŸ’» æ—¥å¸¸çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1: æ–°ã—ã„ç”»é¢ã‚’è¿½åŠ 

```bash
# 1. Controllerã‚’ä½œæˆ
vi src/Kaigo/PcFrontBundle/Controller/NewPageController.php

# 2. ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
vi apps/kaigo_pc_front/config/routing.yml

# 3. Twigãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ
vi src/Kaigo/PcFrontBundle/Resources/views/NewPage/index.html.twig

# 4. CSS/JSè¿½åŠ 
vi assets_webpack/styles/pc/pages/_new_page.scss
vi assets_webpack/scripts/pc/new_page.ts

# 5. ãƒ“ãƒ«ãƒ‰
yarn build

# 6. ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª
http://localhost/kaigo_pc/app_dev.php/new-page
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2: æ—¢å­˜æ©Ÿèƒ½ã®ä¿®æ­£

```bash
# 1. è©²å½“Controllerã‚’ç·¨é›†
vi src/Kaigo/FrontBundle/Controller/DetailFacilityController.php

# 2. Serviceã‚’ç·¨é›†ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
vi src/LifullKaigo/FacilityReviewBundle/Services/ReviewService.php

# 3. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç·¨é›†
vi src/Kaigo/PcFrontBundle/Resources/views/DetailFacility/index.html.twig

# 4. CSS/JSç·¨é›†
vi assets_webpack/styles/pc/pages/_facility_detail.scss
yarn build

# 5. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
php apps/kaigo_pc_front/console cache:clear --env=dev
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¤‰æ›´

```bash
# 1. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³SQLä½œæˆ
vi docs/postgresql/migrations/facility/add_like_count_20240101.sql

# 2. SQLã‚’è¨˜è¿°
ALTER TABLE kaigo_facility ADD COLUMN like_count INTEGER DEFAULT 0;

# 3. SQLã‚’å®Ÿè¡Œï¼ˆé–‹ç™ºDBï¼‰
psql -h localhost -U kaigo_user -d kaigo_dev -f docs/postgresql/migrations/facility/add_like_count_20240101.sql

# 4. Entityã‚’æ›´æ–°
vi src/LifullKaigo/FacilityReviewBundle/Entity/FacilityReview.php

# 5. Repositoryã‚’æ›´æ–°ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
vi src/LifullKaigo/FacilityReviewBundle/Repository/FacilityReviewRepository.php
```

---

### ğŸ”§ ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

#### Composerï¼ˆPHPä¾å­˜ç®¡ç†ï¼‰

```bash
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ›´æ–°
composer update --optimize-autoloader symfony/http-foundation

# Autoloadå†ç”Ÿæˆ
composer dump-autoload --optimize

# å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ›´æ–°
composer update --optimize-autoloader
```

#### Yarnï¼ˆNode.jsä¾å­˜ç®¡ç†ï¼‰

```bash
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
yarn install

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 
yarn add vue@2.5.16

# ãƒ“ãƒ«ãƒ‰ï¼ˆé–‹ç™ºï¼‰
yarn build

# ãƒ“ãƒ«ãƒ‰ï¼ˆæœ¬ç•ªï¼‰
yarn build:production

# ç›£è¦–ãƒ¢ãƒ¼ãƒ‰ï¼ˆè‡ªå‹•ãƒ“ãƒ«ãƒ‰ï¼‰
yarn watch
```

#### Symfonyï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒ‡ãƒãƒƒã‚°ï¼‰

```bash
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
php apps/kaigo_pc_front/console cache:clear --env=dev

# ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç¢ºèª
php apps/kaigo_pc_front/console debug:router

# ã‚µãƒ¼ãƒ“ã‚¹ç¢ºèª
php apps/kaigo_pc_front/console debug:container
```

---

## ã‚ˆãã‚ã‚‹è³ªå•

### Q1: ã©ã“ã‹ã‚‰å­¦ç¿’ã‚’å§‹ã‚ã‚Œã°ã„ã„ã§ã™ã‹ï¼Ÿ

**A**: ä»¥ä¸‹ã®é †ç•ªã§é€²ã‚ã¦ãã ã•ã„ï¼š

1. **ç’°å¢ƒæ§‹ç¯‰** - README.mdã‚’è¦‹ãªãŒã‚‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
2. **å…¨ä½“ç†è§£** - ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã‚€
3. **ã‚³ãƒ¼ãƒ‰ç†è§£** - æ—¢å­˜ã®Controllerã‚’èª­ã‚€
   - `src/Kaigo/FrontBundle/Controller/DetailFacilityController.php`
4. **å°ã•ãªä¿®æ­£** - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®æ–‡è¨€å¤‰æ›´ã‹ã‚‰å§‹ã‚ã‚‹
5. **æ©Ÿèƒ½è¿½åŠ ** - ç°¡å˜ãªæ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ã¿ã‚‹

### Q2: ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰ã©ã†ã™ã‚Œã°ã„ã„ã§ã™ã‹ï¼Ÿ

**A**: ä»¥ä¸‹ã®é †ç•ªã§ç¢ºèªï¼š

```bash
# 1. ãƒ­ã‚°ã‚’ç¢ºèª
tail -f var/logs/dev.log

# 2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢
rm -rf var/cache/*
php apps/kaigo_pc_front/console cache:clear --env=dev

# 3. Autoloadå†ç”Ÿæˆ
composer dump-autoload --optimize

# 4. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å†ãƒ“ãƒ«ãƒ‰
yarn build
```

### Q3: ã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚Œã°ã„ã„ã‹ã‚ã‹ã‚Šã¾ã›ã‚“

**A**: URLã‹ã‚‰é€†å¼•ãã—ã¦ãã ã•ã„ï¼š

```
URL: /facility/12345
  â†“
routing.yml ã§æ¤œç´¢
  â†“
Controller ã‚’ç‰¹å®š
  â†“
Template ã‚’ç‰¹å®š
  â†“
CSS/JS ã‚’ç‰¹å®š
```

### Q4: ãƒ†ã‚¹ãƒˆã¯ã©ã†æ›¸ãã¾ã™ã‹ï¼Ÿ

**A**: `tests/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ï¼š

```
tests/
â”œâ”€â”€ Unit/                   # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ Services/
â”‚       â””â”€â”€ ReviewServiceTest.php
â”œâ”€â”€ Functional/             # æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ Controller/
â”‚       â””â”€â”€ DetailFacilityControllerTest.php
â””â”€â”€ Integration/            # çµ±åˆãƒ†ã‚¹ãƒˆ
```

### Q5: æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ã®æµã‚Œã¯ï¼Ÿ

**A**: ä»¥ä¸‹ã®æ‰‹é †ï¼š

1. é–‹ç™ºç’°å¢ƒã§ãƒ†ã‚¹ãƒˆ
2. GitHubã«push
3. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
4. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
5. ãƒãƒ¼ã‚¸
6. æœ¬ç•ªç’°å¢ƒã¸ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆè‡ªå‹•/æ‰‹å‹•ï¼‰

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### âŒ Class not found

```bash
# è§£æ±ºæ–¹æ³•
composer dump-autoload --optimize
```

### âŒ CSSãŒåæ˜ ã•ã‚Œãªã„

```bash
# è§£æ±ºæ–¹æ³•
yarn build
rm -rf var/cache/*
# ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚‚ã‚¯ãƒªã‚¢ï¼ˆCmd+Shift+Rï¼‰
```

### âŒ DockerãŒèµ·å‹•ã—ãªã„

```bash
# è§£æ±ºæ–¹æ³•
docker compose -f docker-compose.dev.yml down
docker compose -f docker-compose.dev.yml up --build
```

### âŒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼

```bash
# .envã‚’ç¢ºèª
cat .env | grep DATABASE

# PostgreSQLèµ·å‹•ç¢ºèª
ps aux | grep postgres
```

---

## å‚è€ƒè³‡æ–™

### ğŸ“š å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Symfony 3.4](https://symfony.com/doc/3.4/index.html)
- [Doctrine ORM](https://www.doctrine-project.org/projects/doctrine-orm/en/latest/)
- [Twig](https://twig.symfony.com/doc/2.x/)
- [Webpack](https://webpack.js.org/guides/)
- [TypeScript](https://www.typescriptlang.org/docs/)

### ğŸ¢ ç¤¾å†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- README.md - ç’°å¢ƒæ§‹ç¯‰æ‰‹é †
- Confluence - é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ğŸ“– å­¦ç¿’ã‚¹ãƒ†ãƒƒãƒ—

**åˆå¿ƒè€…**:
1. Symfonyã®åŸºæœ¬ï¼ˆMVCï¼‰
2. Doctrineã®ä½¿ã„æ–¹
3. Twigãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**ä¸­ç´šè€…**:
1. ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ³ãƒ†ãƒŠ
2. ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
3. ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ³ãƒ‰ãƒ«ä½œæˆ

---

## ã¾ã¨ã‚

### ğŸ¯ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

1. **src/** ãŒæœ€ã‚‚é‡è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
2. **vendor/** ã¨ **node_modules/** ã¯è§¦ã‚‰ãªã„
3. **assets_webpack/** ã‚’ç·¨é›†ã—ãŸã‚‰å¿…ãš `yarn build`
4. **.env** ã¯å€‹äººè¨­å®šãªã®ã§Gitã«commitã—ãªã„
5. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢** ã‚’å¿˜ã‚Œãšã«

### ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. README.mdã§ç’°å¢ƒæ§‹ç¯‰
2. æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€
3. å°ã•ãªä¿®æ­£ã‹ã‚‰å§‹ã‚ã‚‹
4. ã‚ã‹ã‚‰ãªã„ã“ã¨ã¯è³ªå•ã™ã‚‹

---

**ä½œæˆæ—¥**: 2024å¹´
**å¯¾è±¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: Symfony 3.4 / PHP 7.2
